import{_ as m}from"./DaIHgnVo.js";import{u as p}from"./B7Hvwl0c.js";import{r as i,g as _,C as x,u as f,c as o,a as t,h as y,i as n,b as k,t as v,w as b,o as c,d as g}from"./DubxvCNo.js";import"./DxZUp_Ia.js";import"./DD9xvv_g.js";import"./CFgllcZz.js";const h={class:"min-h-screen bg-background-deep flex items-center justify-center px-4"},w={class:"text-center"},N={key:0,class:"space-y-4"},T={key:1,class:"space-y-4"},V={class:"text-gray-400"},U={__name:"callback",setup(P){const{setToken:l,fetchUser:d}=p(),s=i(!0),a=i(null);return _(async()=>{try{const e=new URLSearchParams(window.location.search).get("access_token");e?(l(e),await d(),setTimeout(()=>{x("/admin")},500)):(a.value="No se recibi贸 el token de autenticaci贸n",s.value=!1)}catch(r){console.error("Error en callback:",r),a.value="Error al procesar la autenticaci贸n",s.value=!1}}),f({title:"Autenticando..."}),(r,e)=>{const u=m;return c(),o("div",h,[t("div",w,[n(s)?(c(),o("div",N,e[0]||(e[0]=[t("div",{class:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary mx-auto"},null,-1),t("p",{class:"text-gray-400"},"Procesando autenticaci贸n...",-1)]))):n(a)?(c(),o("div",T,[e[2]||(e[2]=t("span",{class:"material-symbols-outlined text-red-500 text-5xl"},"error",-1)),t("p",V,v(n(a)),1),k(u,{to:"/admin",class:"text-primary hover:underline"},{default:b(()=>e[1]||(e[1]=[g(" Volver al login ")])),_:1,__:[1]})])):y("",!0)])])}}};export{U as default};
