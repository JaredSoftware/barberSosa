import{u,r as b,g as h,c as n,a as t,t as a,i as s,h as f,F as m,j as g,m as y,o as d}from"./DubxvCNo.js";import{u as v}from"./Bx_0lK-4.js";import{_}from"./DlAUqK2U.js";const w=()=>({formatCurrency:c=>{const r=Number(c||0);return new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP"}).format(r)}}),k={class:"report-root min-h-screen bg-background-deep text-white"},C={class:"relative flex h-auto min-h-screen w-full flex-col overflow-x-hidden"},A={class:"layout-container flex h-full grow flex-col"},N={class:"px-6 md:px-20 lg:px-40 flex flex-1 justify-center py-10"},B={class:"layout-content-container flex flex-col max-w-[1200px] flex-1"},R={class:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-16"},D={class:"flex flex-col gap-4 rounded-2xl p-8 bg-black border border-white/5 shadow-2xl relative overflow-hidden group"},E={class:"gold-gradient-text text-6xl font-black tracking-tighter"},I={class:"flex flex-col gap-4 rounded-2xl p-8 bg-black border border-white/5 shadow-2xl relative overflow-hidden"},F={class:"gold-gradient-text text-6xl font-black tracking-tighter"},M={class:"flex flex-col gap-4 rounded-2xl p-8 bg-black border border-white/5 shadow-2xl relative overflow-hidden"},S={class:"gold-gradient-text text-6xl font-black tracking-tighter"},P={class:"flex flex-col gap-6"},Y={class:"overflow-hidden rounded-xl border border-white/10 bg-[#141414] shadow-2xl"},j={class:"w-full text-left border-collapse"},G={class:"text-sm divide-y divide-white/5"},L={class:"px-8 py-5"},O={class:"flex items-center gap-3"},V={class:"size-8 rounded-full bg-[#493f22] flex items-center justify-center text-[10px] font-bold text-primary"},z={class:"text-white font-bold text-base"},H={class:"px-8 py-5 text-right text-white font-medium"},T={class:"px-8 py-5 text-right text-white font-medium"},U={class:"px-8 py-5 text-right text-primary font-black text-base"},$={key:0},X={__name:"report",setup(p){u({title:"Reporte Financiero y Producción - Barber Sosa"});const c=y(),{formatCurrency:r}=w(),l=b({totalDay:0,totalMonth:0,totalYear:0,barbers:[]}),x=async()=>{try{const{data:o}=await v(`${c.public.apiBase}/api/appointments/stats/revenue`,"$u8tCUotYf5");o.value&&(l.value={totalDay:o.value.totalDay||0,totalMonth:o.value.totalMonth||0,totalYear:o.value.totalYear||0,barbers:Array.isArray(o.value.barbers)?o.value.barbers:[]})}catch(o){console.error("Error fetching revenue stats:",o)}};return h(()=>{x()}),(o,e)=>(d(),n("div",k,[t("div",C,[t("div",A,[t("main",N,[t("div",B,[e[9]||(e[9]=t("div",{class:"mb-12"},[t("h2",{class:"text-white text-4xl font-black leading-tight tracking-tighter uppercase"}," Reporte Financiero "),t("div",{class:"h-1 w-20 bg-primary mt-2"})],-1)),t("div",R,[t("div",D,[e[0]||(e[0]=t("div",{class:"absolute top-0 right-0 p-4 opacity-10"},[t("span",{class:"material-symbols-outlined text-6xl"},"today")],-1)),e[1]||(e[1]=t("p",{class:"text-primary font-bold tracking-[0.2em] uppercase text-xs"}," Ganancia Hoy ",-1)),t("p",E,a(s(r)(s(l).totalDay)),1)]),t("div",I,[e[2]||(e[2]=t("div",{class:"absolute top-0 right-0 p-4 opacity-10"},[t("span",{class:"material-symbols-outlined text-6xl"},"calendar_month")],-1)),e[3]||(e[3]=t("p",{class:"text-primary font-bold tracking-[0.2em] uppercase text-xs"}," Ganancia Mes ",-1)),t("p",F,a(s(r)(s(l).totalMonth)),1)]),t("div",M,[e[4]||(e[4]=t("div",{class:"absolute top-0 right-0 p-4 opacity-10"},[t("span",{class:"material-symbols-outlined text-6xl"},"account_balance")],-1)),e[5]||(e[5]=t("p",{class:"text-primary font-bold tracking-[0.2em] uppercase text-xs"}," Ganancia Año ",-1)),t("p",S,a(s(r)(s(l).totalYear)),1)])]),t("div",P,[e[8]||(e[8]=t("div",{class:"flex items-center justify-between"},[t("h3",{class:"text-white text-2xl font-bold tracking-tight uppercase"}," Producción por Barbero "),t("span",{class:"text-white/40 text-xs font-medium uppercase tracking-widest italic"}," Datos actualizados en tiempo real ")],-1)),t("div",Y,[t("table",j,[e[7]||(e[7]=t("thead",null,[t("tr",{class:"bg-white/[0.03] text-primary/70 text-[10px] font-black uppercase tracking-[0.15em]"},[t("th",{class:"px-8 py-5 border-b border-white/5"}," Nombre del Barbero "),t("th",{class:"px-8 py-5 border-b border-white/5 text-right"}," Producción Día "),t("th",{class:"px-8 py-5 border-b border-white/5 text-right"}," Producción Mes "),t("th",{class:"px-8 py-5 border-b border-white/5 text-right"}," Producción Año ")])],-1)),t("tbody",G,[(d(!0),n(m,null,g(s(l).barbers,i=>(d(),n("tr",{key:i.barberId,class:"hover:bg-white/[0.02] transition-colors group"},[t("td",L,[t("div",O,[t("div",V,a(i.initials),1),t("span",z,a(i.name),1)])]),t("td",H,a(s(r)(i.dayRevenue)),1),t("td",T,a(s(r)(i.monthRevenue)),1),t("td",U,a(s(r)(i.yearRevenue)),1)]))),128)),s(l).barbers&&s(l).barbers.length===0?(d(),n("tr",$,e[6]||(e[6]=[t("td",{colspan:"4",class:"px-8 py-5 text-center text-white/40 italic"}," No hay datos de barberos disponibles. ",-1)]))):f("",!0)])])])])])]),e[10]||(e[10]=t("footer",{class:"px-10 py-10 border-t border-white/5 bg-black text-center"},[t("p",{class:"text-white/20 text-[10px] font-bold uppercase tracking-[0.3em]"}," © 2024 BARBER SOSA • EXCLUSIVA GESTIÓN FINANCIERA DE ALTO NIVEL ")],-1))])])]))}},Q=_(X,[["__scopeId","data-v-c0871a2b"]]);export{Q as default};
